{% extends 'base.html' %}

{% block content %}
<div class="post">
    <h1>ржЕрзНржпрж╛ржбржорж┐ржи ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб</h1>
    
    <h3 style="border-bottom: 2px solid #ddd; padding-bottom: 5px;">ЁЯЫС ржкрзЗржирзНржбрж┐ржВ ржкрзЛрж╕рзНржЯ ({{ pending_posts|length }})</h3>
    <table style="width: 100%; margin-top: 10px; border-collapse: collapse;">
        {% for post in pending_posts %}
        <tr style="border-bottom: 1px solid #eee;">
            <td style="padding: 10px;">
                <strong>{{ post['title'] }}</strong> <br>
                <small>рж▓рзЗржЦржХ: {{ post['username'] }}</small>
            </td>
            <td style="text-align: right;">
                <a href="/post/{{ post['id'] }}" target="_blank" style="color: blue;">ЁЯСБя╕П ржжрзЗржЦрзБржи</a>
                <a href="/admin_action_post/{{ post['id'] }}/approve" style="color: green; margin-left: 10px;">тЬЕ Approve</a>
                <a href="/admin_action_post/{{ post['id'] }}/reject" style="color: red; margin-left: 10px;">тЭМ Reject</a>
            </td>
        </tr>
        {% else %}
            <tr><td colspan="2">ржХрзЛржирзЛ ржкрзЗржирзНржбрж┐ржВ ржкрзЛрж╕рзНржЯ ржирзЗржЗред</td></tr>
        {% endfor %}
    </table>

    <br><br>

    <h3 style="border-bottom: 2px solid #ddd; padding-bottom: 5px; color: #ef4444;">тЪая╕П рж░рж┐ржкрзЛрж░рзНржЯ ржХрж░рж╛ ржкрзЛрж╕рзНржЯ/ржХржорзЗржирзНржЯ</h3>
    
    <h4>ржкрзЛрж╕рзНржЯ рж░рж┐ржкрзЛрж░рзНржЯ</h4>
    <table style="width: 100%;">
        {% for report in post_reports %}
        <tr>
            <td>
                ржкрзЛрж╕рзНржЯ: <strong>{{ report['title'] }}</strong> <br>
                рж░рж┐ржкрзЛрж░рзНржЯрж╛рж░: {{ report['reporter_name'] }} | ржХрж╛рж░ржг: {{ report['reason'] }}
            </td>
            <td>
                <a href="/post/{{ report['post_id'] }}" target="_blank">ржжрзЗржЦрзБржи</a>
                <a href="/admin_action_report/{{ report['id'] }}/delete_content" style="color: red;">ЁЯЧСя╕П Delete Post</a>
                <a href="/admin_action_report/{{ report['id'] }}/dismiss" style="color: gray;">Ignore</a>
            </td>
        </tr>
        {% endfor %}
    </table>

    <h4>ржХржорзЗржирзНржЯ рж░рж┐ржкрзЛрж░рзНржЯ</h4>
    <table style="width: 100%;">
        {% for report in comment_reports %}
        <tr>
            <td>
                ржХржорзЗржирзНржЯ: <i>"{{ report['comment_content'] }}"</i> <br>
                рж░рж┐ржкрзЛрж░рзНржЯрж╛рж░: {{ report['reporter_name'] }} | ржХрж╛рж░ржг: {{ report['reason'] }}
            </td>
            <td>
                <a href="/admin_action_report/{{ report['id'] }}/delete_content" style="color: red;">ЁЯЧСя╕П Delete Comment</a>
                <a href="/admin_action_report/{{ report['id'] }}/dismiss" style="color: gray;">Ignore</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}