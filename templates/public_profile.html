{% extends 'base.html' %}

{% block content %}
<div class="post">
    <div class="author-row" style="margin-top: 0;">
        <div class="author-avatar" style="width: 64px; height: 64px; font-size: 1.1rem;">
            {% if user['profile_pic'] %}
                <img src="{{ url_for('static', filename='profile_uploads/' + user['profile_pic']) }}" alt="profile">
            {% else %}
                {{ (user['name'] or user['username'])[:1] }}
            {% endif %}
        </div>
        <div>
            <div class="author-name" style="font-size: 1.1rem;">{{ user['name'] or user['username'] }}</div>
            <div class="author-meta">ইউজারনেম: {{ user['username'] }}</div>
        </div>
    </div>

    {% if user['bio'] %}
        <p style="margin-top: 15px; color: #475569;">{{ user['bio'] }}</p>
    {% endif %}

    <div style="display: grid; gap: 10px; margin-top: 15px;">
        {% if user['hobby'] %}
            <div><strong>হবি:</strong> {{ user['hobby'] }}</div>
        {% endif %}
        {% if user['categories'] %}
            <div><strong>ক্যাটাগরি:</strong> {{ user['categories'] }}</div>
        {% endif %}
        {% if user['social_links'] %}
            <div><strong>সোশ্যাল:</strong> {{ user['social_links'] }}</div>
        {% endif %}
    </div>
</div>

<div class="section-header">
    <span class="section-title">রাইটারের পোস্ট</span>
</div>

{% for post in posts %}
    <div class="post">
        <span class="tag">{{ post['category'] }}</span>
        <h2>{{ post['title'] }}</h2>
        <p>{{ post['intro'] }}</p>
        <div class="author-row">
            <div class="author-avatar">
                {% if post['author_profile_pic'] %}
                    <img src="{{ url_for('static', filename='profile_uploads/' + post['author_profile_pic']) }}" alt="profile">
                {% else %}
                    {{ post['author_display_name'][:1] }}
                {% endif %}
            </div>
            <div>
                <div class="author-name">{{ post['author_display_name'] }}</div>
                <div class="author-meta">⏱️ {{ post['read_time'] }} পড়া</div>
            </div>
        </div>
        <a href="{{ url_for('post_detail', post_id=post['id'], slug=post['slug']) }}" class="sub-btn" style="display: inline-block; width: auto; padding: 8px 15px; text-decoration: none;">বিস্তারিত পড়ুন</a>
    </div>
{% else %}
    <p style="text-align: center; color: #666;">এই রাইটারের কোনো পোস্ট নেই।</p>
{% endfor %}
{% endblock %}
